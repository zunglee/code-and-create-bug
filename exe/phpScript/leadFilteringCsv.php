<?php


$leadFilterObj = new leadFiltering();

die('here in the testScript');

/*
    $smarty->assign("mis", "311");
    $smarty->assign("Mis", $Mis);

    $content = $smarty->fetch("$_SDIR/testCsv.htm.tpl");
    rb_displayXLSContent($content, "Lead_Filtering_logic");
*/

function readLeadAndFilter(){
    
}


class leadFiltering{

    private $ecourseDetail;
    private $tagService;
      private $validStrings = array('Adobe Certified Associate (ACA)','Adobe Certified Expert (ACE)','Adobe Certified Instructor (ACI)','Internetworking Certifications','IP Telephony Certifications','Unified Communications Certifications','Certified Information Professional (CIP)','Alcatel-Lucent Network Routing Specialist I (NRS I)','Alcatel-Lucent Network Routing Specialist II (NRS II)','Alcatel-Lucent Triple Play Routing Professional (3RP)','Alcatel-Lucent Service Routing Architect (SRA)','ARM Accredited Engineer Program','BMC Software certifications','Project Manager E-Business Certification (PME)','Certified E-Marketing Analyst Certification (CEA)','Master Project Manager Certification (MPM)','Software Analyst Certification (CSA)','Check Point Certifications','Certified Internet Webmaster certifications','A+ ','Certified Document Imaging Architect (CDIA+)','Certified Technical Trainer (CTT+)','Convergence+','Digital Home Technology Integrator (DHTI+)','Linux+','Network+','PDI+','Project+','RFID+','Security+','Server+','Dynamic Systems Development Method certifications','Enterasys Systems Engineer (ESE)','Enterasys Security Systems Engineer-IPS/SIEM (ESSE-IPS/SIEM)','Enterasys Security Systems Engineer-NAC (ESSE-NAC)','Enterasys Certified Internetworking Engineer (ECIE)','Holistic Information Security Practitioner (HISP)','Certified Software Development Associate (CSDA)','Certified Software Development Professional (CSDA)','Information Security Engineering Certified Professional','Information Security Management Certified Professional','Information Security Auditing Certified Professional','Network and Internet Security Specialist','Cryptography Specialist','UNIX Security Specialist','Solaris Security Specialist','AIX Security Specialist','HP-UX Security Specialist','Linux Security Specialist','Windows Security Specialist','CISCO Security Specialist','Certified Information Systems Auditor (CISA)','Certified Information Security Manager (CISM)','Certified in the Governance of Enterprise IT (CGEIT)','Certified in Risk and Information Systems Control (CRISC)','Certified Software Development Professional (CSDP)','Certified Function Point Specialist (CFPS)','Certified Software Measurement Specialist (CSMS)','Certified Web Professional (CWP) certifications','Linux Professional Institute Certified Level 1 (LPIC1)','Linux Professional Institute Certified Level 2 (LPIC2) ','Linux Professional Institute Certified Level 3 (LPIC3)','IT Audit Certificate','Network Performance Technologies','Network Performance Metrics & Analysis','Nortel certifications','Novell certifications','Certified Wireless Technology Specialist (CWTS)','Certified Wireless Network Administrator (CWNA)','Certified Wireless Security Professional (CWSP)','Certified Wireless Design Professional (CWDP)','Certified Wireless Analysis Professional (CWAP)','Certified Wireless Network Engineer (CWNE)','Certified Wireless Network Trainer (CWNT)','Red Hat Certified Virtualization Administrator (RHCVA)','Red Hat Certified Technician (RHCT)','Red Hat Certified Engineer (RHCE)','Red Hat Certified Datacenter Specialist (RHCDS)','Red Hat Certified Security Specialist (RHCSS)','Red Hat Certified Architect (RHCA)','JBoss Certified Applications Administrator (JBCAA)','ControlLogix Certificate Program','Linux Certified Administrator','Linux Certified Engineer','Master Linux Certified Engineer (MLCE)','Certified System Administrator (CSA)','Advanced Certified Engineer (ACE)','Master ACE','SOX-ITSEC Certification','Electronic Document Professional (EDP)','Zend PHP 5 Certification','Zend Framework Certification','PMI','CAPM','PMP','PqMP','PgMP','MCITP','MCTS','MCPD','MCA','(ISC)²','CISSP','SSCP','CAP','CSSLP','CEH','CHFI','ECSA','CNDA','LPT','ECVP','ECSP','GCI User Specialist','GCI Professional','GCI Architect','ACP','CBIP','CCP','CDMP','ISA','I.S.P.','CMIIB','CMIIC','CMIIS','CMIIA','CMIIP','Sonicwall Certification','Junos, Associate (JNCIA-Junos)','Juniper Networks Certified Design Associate (JNCDA)','Networks Certified Internet Associate, E-series ','Juniper Networks Certified Internet Specialist','Juniper Networks Certified Design Specialist, Data Center (JNCDS-DC)','WX, Associate (JNCIA-WX) ','Juniper Networks Certified Internet Specialist (JNCIS-SEC)','Enterprise Routing and Switching, Specialist (JNCIS-ENT)','Junos Pulse Secure Access, Specialist (JNCIS-SA)','QFabric, Specialist (JNCIS-QF)','Wireless LAN, Specialist (JNCIS-WLAN)','FWV, Specialist (JNCIS-FWV)','Juniper Networks Certified Internet Associate, FWV (JNCIA-IDP) ','Security, Professional (JNCIP-SEC)','JNCIP-ENT Enterprise Routing and Switching, Professional (JNCIP-ENT)','Service Provider Routing and Switching, Professional ','Junos Troubleshooting','Service Provider Routing and Switching Support, Professional','Enterprise Routing and Switching Support, Professional (JNCSP-ENT)','Security Support, Professional (JNCSP-SEC)','Cisco Certified Architect','CCENT','CCNA','CCNP','CCIE Routing & Switching','CCDA','CCDP','CCDE','CCNA Security','CCNP Security','CCIE Security','CCNA Wireless','CCNP Wireless','CCIE Wireless','CCNA Voice','CCNP Voice','CCIE Voice','CCNA Data Center','CCNP Data Center','CCIE Data Center','CCIE Storage Networking','CCNA Service Provider','CCIP (Retired)','CCNP Service Provider','CCIE Service Provider','CCNA Service Provider Operations','CCNP Service Provider Operations','CCIE Service Provider Operations','CCT Routing & Switching','CCT Data Center','CCT TelePresence','Cisco IP Telephony Design Specialist','Cisco Unified Presence Specialist','Cisco Unity Design Specialist','Cisco Unity Support Specialist','Cisco Data Center Application Services Design Specialist','Cisco Data Center Application Services Support Specialist ','Cisco Data Center Networking Infrastructure Design Specialist','Cisco Data Center Networking Infrastructure Support Specialist','Cisco Data Center Storage Networking Design Specialist','Cisco Data Center Storage Networking Support Specialist','Cisco Data Center Unified Computing Design Specialist','Cisco Data Center Unified Computing Support Specialist','Cisco Data Center Unified Fabric Design Specialist','Cisco Data Center Unified Fabric Support Specialist','Cisco ASA Specialist','Cisco Firewall Security Specialist','Cisco IOS Security Specialist','Cisco IPS Specialist','Cisco Network Admission Control Specialist','Cisco VPN Security Specialist','Cisco Rich Media Communications Specialist','Cisco TelePresence Installations Specialist','Cisco TelePresence Solutions Specialist','Associate Certified Electronics Technician (CET)','Certified Consumer Technician (Systems Tech 1, CCT-ST1)','Certified Consumer Technician (Systems Tech 2, CCT-ST2)','Certified Consumer Technician (Field Tech 1, CCT-FT1)','Certified Consumer Technician (Diagnostic Tech, CCT-DT)','Certified Electronics Technician (CET)','Certified Electronics Technician Plus (CET+)','Certified Consumer Technician, (Field Tech 2, CCT-FT2)','Certified Consumer Technician (Bench Tech, CCT-BT)','Senior Certified Electronics Technician (CET-SR)','Master Certified Electronics Technician (CET-MA)','Multimedia Systems Technician Journeyman Level (MST) ','NASTeC (National Appliance Service Technician Certification)','Customer Service Representative (CSR)','Certified Technical Instructor (CTI)','Certified Service Manager (CSM)','Electronics Systems Associate (ESA)','Biomedical Auditor ','Calibration Technician ','HACCP Auditor ','Lean Certification ','ASQ','Manager of Organizational Excellence ','Manager of Quality','Organizational Excellence ','Master Black Belt','Six Sigma Master Black Belt','Pharmaceutical GMP Professional','Quality Auditor ','Quality Engineer ','Quality Improvement Associate ','Quality Inspector ','Quality Process Analyst','Quality Technician','Reliability Engineer','Six Sigma Black Belt ','Six Sigma Green Belt ','Six Sigma Yellow Belt ','Software Quality Engineer','Supplier Quality Professional','Citrix Certified Expert – Virtualization','CCE - V','Citrix Certified Associate - Virtualization','CCA - V','Citrix Certified Professional – Networking','CCP - N','Citrix Certified Associate – Networking','CCA - N','Citrix NetScaler SD-WAN Certified','CC - SDWAN','Citrix Certified Professional – Mobility','CCP - M','Oracle CRM On Demand','Oracle CRM On Demand Certified Implementation Specialist','Oracle Value Chain Planning- Demantra Demand Management 7 Certified Implementation Specialist','Oracle E-Business Suite Financial Management',Oracle E-Business Suite 12 Financial Management Certified Implementation Specialist- Oracle General'Ledger','Oracle E-Business Suite 12 Financial Management Certified Implementation Specialist- Oracle Payables','Oracle E-Business Suite 12 Financial Management Certified Implementation Specialist- Oracle Receivables','Oracle E-Business Suite Human Capital Management','Oracle E-Business Suite R12 Human Capital Management Certified Implementation Specialist','Oracle E-Business Suite Manufacturing','Oracle E-Business Suite 12 Supply Chain Certified Implementation Specialist- Oracle Inventory','Oracle E-Business Suite Order Fulfillment','Oracle E-Business Suite 12 Supply Chain Certified Implementation Specialist- Oracle Order Management','Oracle E-Business Suite Procurement','Oracle E-Business Suite 12 Supply Chain Certified Implementation Specialist- Oracle Purchasing','Oracle E-Business Suite Project Management','Oracle E-Business Suite R12 Project Certified Implementation Specialist','Oracle E-Business Suite Supply Chain Management','Oracle E-Business Suite R12 Advanced Supply Chain Planning Consultant Certified Expert','Oracle E-Business Suite Tools and Technology','Oracle E-Business Suite R12 Applications Database Administrator Certified Professional','Oracle E-Business Suite R12 Applications DBA OCP','Oracle Fusion Governance, Risk and Compliance','Oracle Advanced Controls Applications 2014 Certified Implementation Specialist','Oracle Hyperion','Oracle Data Relationship Management','Oracle Hyperion Data Relationship Management Certified Implementation Specialist','Oracle Hyperion Financial Management','Oracle Hyperion Financial Management 11 Certified Implementation Specialist','Oracle Hyperion Planning 11 Certified Implementation Specialist','JD Edwards EnterpriseOne','JD Edwards Financial Management','JD Edwards EnterpriseOne 9 Financial Management Certified Implementation Specialist','JD Edwards EnterpriseOne Financial Management 9.2 Certified Implementation Specialist','JD Edwards Project Management','JD Edwards EnterpriseOne 9 Projects Certified Implementation Specialist','JD Edwards Supply Chain Execution (Logistics)','JD Edwards EnterpriseOne 9 Distribution Certified Implementation Specialist','JD Edwards EnterpriseOne Distribution 9.2 Certified Implementation Specialist','JD Edwards Tools and Technology','JD Edwards EnterpriseOne 9 Configurable Network Computing Certified Implementation Specialist','JD Edwards EnterpriseOne 9 Manufacturing Certified Implementation Specialist','Oracle Commerce (ATG, Endeca)','Oracle Commerce Developer','Oracle Commerce 11 Guided Search Development Certified Implementation Specialist','Oracle Commerce 11 Platform Implementation Development Specialist','Oracle Policy Automation','Oracle Policy Modeling','Oracle Policy Automation 10 Certified Implementation Specialist','Oracle Unified Method','Oracle Unified Method 5 Certified Implementation Specialist','Oracle Unified Method with Cloud Application Services 2017 Certified Implementation Specialist','PeopleSoft Campus Solutions 9 Student Enrollment Certified Implementation Specialist','PeopleSoft Financial Management','PeopleSoft 9.1 Financial Management- Payables Certified Implementation Specialist','PeopleSoft 9.1 Financial Management- Receivables Certified Implementation Specialist','PeopleSoft General Ledger 9 Consultant Certified Expert','PeopleSoft Human Capital Management','PeopleSoft 9.2 Human Resources Certified Implementation Specialist','PeopleSoft Human Resources 9 Consultant Certified Expert','PeopleTools - Tools and Technology','PeopleTools 8 Advanced Developer Certified Expert','PeopleTools 8 Application Developer Certified Expert','Primavera','Primavera Contract Management','Primavera Contract Management Certified Implementation Specialist','Primavera P6 Enterprise Project Portfolio Management','Primavera P6 Enterprise Project Portfolio Management 8 Certified Implementation Specialist','Primavera Portfolio Management','Primavera Portfolio Management Certified Implementation Specialist','Primavera Unifier (Skire)','Primavera Unifier Cloud Service 2016 Certified Implementation Specialist','Siebel CRM Applications','Siebel 8 Consultant Certified Expert','Siebel 8 Consultant','Oracle Customer Hub','Oracle Customer Hub and Oracle Data Quality Certified Implementation Specialist','Oracle iStore','Oracle iStore 12 Certified Implementation Specialist','Oracle User Productivity Kit','Oracle User Productivity Kit 11 Certified Implementation Specialist','Oracle User Productivity Kit 11 Technical Consultant Certified Implementation Specialist','Database Application Development','Oracle Application Express (Oracle APEX)','Oracle Application Express Developer Certified Expert','Oracle Advanced PL/SQL Developer Certified Professional','Oracle Certified Expert, Oracle Database 11g Release 2 SQL Tuning','Oracle Database 12c- Advanced PL/SQL Developer Certified Professional','Oracle Database SQL Certified Associate','Oracle Database SQL Certified Expert','Oracle PL/SQL Developer Certified Associate','MySQL','MySQL Database Administration','Oracle Certified Professional, MySQL 5.6 Database Administrator','Upgrade to MySQL 5.6 DBA OCP','MySQL Developer','Oracle Certified Professional, MySQL 5.6 Developer','Upgrade to MySQL 5.6 Developer OCP','Oracle Database','Oracle Database Cloud','Oracle Certified Master, Database Cloud Administrator','Oracle Certified Professional, Database Cloud Administrator','Oracle Database 11g','Oracle Certified Expert, Oracle Real Application Clusters 11g and Grid Infrastructure Administrator','Oracle Data Warehousing 11g Certified Implementation Specialist','Oracle Database 11g Administrator Certified Associate','Oracle Database 11g Administrator Certified Master','Oracle Database 11g Administrator Certified Master(upgrade)','Oracle Database 11g Administrator Certified Professional','Oracle Database 11g Administrator Certified Professional(upgrade)','Oracle Database 11g Certified Implementation Specialist','Oracle Database 11g Performance Tuning Certified Expert','Oracle Database 11g Security Certified Implementation Specialist','Oracle Real Application Clusters 11g Certified Implementation Specialist','Upgrade to Oracle Database 11g OCP, OCM','Upgrade to Oracle Database RAC & Grid Infrastructure OCE','Oracle Database 12c','Database 12cR2 Administration Certified Professional','Oracle Certified Expert, Oracle Database 12c- Data Guard Administrator','Oracle Certified Expert, Oracle Database 12c- Performance Management and Tuning','Oracle Certified Expert, Oracle Database 12c- RAC and Grid Infrastructure Administrator','Oracle Database 12c Administrator Certified Associate','Oracle Database 12c Administrator Certified Master','Oracle Database 12c Administrator Certified Professional','Oracle Database 12c Administrator Certified Professional(upgrade)','Oracle Database 12c Certified Implementation Specialist','Oracle Database 12c Maximum Availability Certified Expert','Oracle Database 12c Maximum Availability Certified Master','Oracle Database Foundations Certified Junior Associate (novice-level certification)','Oracle Database Performance and Tuning 2015 Certified Implementation Specialist','Oracle Real Application Clusters 12c Certified Implementation Specialist','Upgrade to Oracle Certified Expert, Oracle Database 12c- RAC and Grid Infrastructure Administrator','Upgrade to Oracle Database 12c Administrator Certified Master','Upgrade to Oracle Database 12c OCP, OCM','Oracle Spatial 11g','Oracle Spatial 11g Certified Implementation Specialist','Oracle9i Database','MySQL Cloud Service 2018 Certified Implementation Specialist','Oracle Enterprise Management','Oracle Application Testing Suite','Oracle Enterprise Manager 11g Application Quality Management Certified Implementation Specialist','Oracle Enterprise Manager','Oracle Enterprise Manager 11g Certified Implementation Specialist','Oracle Enterprise Manager 12c Certified Implementation Specialist','Oracle IT Architecture','Oracle Technical Architecture','Oracle IT Architecture Release 3 Certified Architecture Specialist','Project Lifecycle Management','Lifecycle Management','Project Lifecycle Management Certified Implementation Specialist','Oracle Communications','Oracle Communications BRM Elastic Charging Engine 2017 Certified Implementation Specialist','Oracle Communications Billing and Revenue Management 7 Advanced Certified Implementation Specialist','Oracle Communications Billing and Revenue Management 7 Basic Certified Implementation Specialist','Oracle Communications Order and Service Management Server 7 Certified Implementation Specialist','Oracle Communications Services Gatekeeper 5 Certified Implementation Specialist','Oracle Session Border Control','Oracle Communications Session Border Controller 7 Advanced Certified Implementation Specialist','Oracle Communications Session Border Controller 7 Basic Certified Implementation Specialist','Oracle Communications Session Border Controller Certified Implementation Specialist','Oracle Health Sciences','Oracle Argus','Oracle Argus Enterprise Edition 8 Certified Implementation Specialist','Oracle Argus Safety 7 Certified Implementation Specialist','Oracle Life Sciences Data Hub','Oracle Life Sciences Data Hub 2 Certified Implementation Specialist','Oracle Insurance','Oracle Documaker','Oracle Documaker Standard Edition 12 Certified Implementation Specialist','Oracle Insurance Policy Administration','Oracle Insurance Policy Administration 9 Certified Implementation Specialist','Oracle Retail','Oracle Merchandise Operations Management',
Oracle Retail Merchandising System 13.2 Foundation Functional Implementer Certified Implementation'Specialist','Oracle Merchandise Planning and Optimization','Oracle Retail Merchandise Planning and Optimization 13.3 Certified Implementation Specialist','Oracle Retail Predictive Application Server 13 Certified Implementation Specialist','Oracle Retail Integration Specialist','Oracle Retail Integration Bus 13.2 Certified Implementation Specialist','Oracle Retail Price Management 13.2 Functional Implementer Certified Implementation Specialist','Oracle Retail Store Inventory Management 13.2 Functional Implementer Certified Implementation Specialist','Oracle Retail Demand Forecasting 13.3 Functional Implementer Certified Implementation Specialist','Oracle Tax Applications','Oracle Public Sector Revenue Management','Oracle Enterprise Taxation Management 2 Certified Implementation Specialist','Oracle Public Sector Revenue Management 2 Certified Implementation Specialist','Oracle Utilities','Oracle Utilities Customer Care and Billing 2 Certified Implementation Specialist','Oracle Utilities Meter Data Management 2 Certified Implementation Specialist','Oracle Utilities Mobile Workforce Management 2 Certified Implementation Specialist',Oracle Utilities Smart Grid Gateway 2 for Advanced Metering Infrastructure Certified Implementation'Specialist','Oracle Business Intelligence Applications 7 for CRM Certified Implementation Specialist','Oracle Business Intelligence Applications 7 for ERP Certified Implementation Specialist','Oracle BI Enterprise Edition (BI EE)','Oracle Business Intelligence Foundation 10 Certified Implementation Specialist','Oracle Business Intelligence Foundation Suite 11g Certified Implementation Specialist','Oracle Endeca Information Discovery','Oracle Endeca Information Discovery 2.3 Certified Implementation Specialist','Oracle Endeca Information Discovery 3.1 Certified Implementation Specialist','Oracle Essbase','Oracle Essbase 11 Certified Implementation Specialist','Oracle Application Grid 11g Certified Implementation Specialist','Oracle Cloud Application Foundation','Oracle Cloud Application Foundation Certified Implementation Specialist','Oracle WebLogic Server','Oracle Certified Associate, Oracle WebLogic Server 11g System Administrator','Oracle Certified Associate, Oracle WebLogic Server 12c Administrator','Oracle Certified Professional, Oracle WebLogic Server 12c Administrator','Oracle WebLogic Server 12c Certified Implementation Specialist','Oracle Data Integrator','Oracle Data Integrator 11g Certified Implementation Specialist','Oracle Data Integrator 12c Certified Implementation Specialist','Oracle GoldenGate','Oracle GoldenGate 10 Certified Implementation Specialist','Oracle GoldenGate 11g Certified Implementation Specialist','Oracle GoldenGate 12c Certified Implementation Specialist','Oracle Access Manager','Oracle Access Management Suite Plus 11g Implementation Specialist','Oracle Identity Governance Suite 11g PS3 Certified Implementation Specialist','Oracle Certified Expert, EE 6 Java Persistence API Developer','Oracle Certified Expert, Java EE 6 Enterprise JavaBeans Developer','Oracle Certified Expert, Java EE 6 JavaServer Faces Developer','Oracle Certified Expert, Java EE 6 Web Component Developer','Oracle Certified Expert, Java EE 6 Web Services Developer','Oracle Certified Master, Java EE 6 Enterprise Architect','Java EE 6 Oracle Certified Master','Java Foundations Certified Junior Associate (novice-level certification)','Oracle Certified Associate, Java SE 5/SE 6','Oracle Certified Associate, Java SE 7 Programmer','Oracle Certified Associate, Java SE 8 Programmer','Oracle Certified Master, Java SE 6 Developer','Oracle Certified Professional, Java SE 6 Programmer','Oracle Certified Professional, Java SE 7 Programmer','Oracle Certified Professional, Java SE 8 Programmer','Java SE 6 OCP','Java SE 7 OCP','Java SE 8 OCP','Oracle Application Development Framework','Oracle Application Development Framework 11g Certified Implementation Specialist','Oracle Application Development Framework 12c Certified Implementation Specialist','Oracle Certified Professional, Oracle Fusion Middleware 11g Forms Developer','Oracle Forms Developer Certified Professional','Oracle Internet Application Developer Certified Professional, Oracle Forms Developer Release 6/6i','Oracle Forms Developer','Oracle Fusion Middleware 11g Forms','Oracle Mobile Application Framework','Oracle Mobile Development 2015 Certified Implementation Specialist','Oracle Mobile Security','Oracle Mobile Security Suite 11g Certified Implementation Specialist','Oracle Application Integration Architecture 11g Certified Implementation Specialist','Oracle Business Process Management Suite 12c Certified Implementation Specialist','Oracle IT Architecture BPM 2013 Certified Architecture Specialist','Oracle Unified Business Process Management Suite 11g Certified Implementation Specialist','Oracle SOA Suite','Oracle IT Architecture SOA 2013 Certified Architecture Specialist','Oracle SOA Suite 11g Certified Implementation Specialist.','Oracle SOA Suite 12c Certified Implementation Specialist','Oracle WebCenter Content','Oracle WebCenter Content 11g Certified Implementation Specialist','Oracle WebCenter Portal','Oracle WebCenter Portal 11.1.1.8 Certified Implementation Specialist','Oracle WebCenter Sites','Oracle WebCenter Sites 11g Certified Implementation Specialist','Oracle Linux Administration','Oracle Certified Associate, Oracle Linux 5 and 6 System Administrator','Oracle Certified Professional, Oracle Linux 6 System Administrator','Oracle Linux 6 Certified Implementation Specialist','Oracle Linux Certified Implementation Specialist','Oracle Solaris','Oracle Solaris 10 Administration','Oracle Certified Associate, Oracle Solaris 10 Operating System','Oracle Certified Expert, Oracle Solaris 10 Network Administrator','Oracle Certified Expert, Oracle Solaris 10 Security Administrator','Oracle Certified Professional, Oracle Solaris 10 System Administrator','Oracle Certified Professional, Oracle Solaris Cluster 3.2 System Administrator','Oracle Solaris 10 OCP','Oracle Solaris 11 Administration','Oracle Certified Associate, Oracle Solaris 11 System Administrator','Oracle Certified Professional, Oracle Solaris 11 System Administrator','Oracle Solaris 11 Installation and Configuration Certified Implementation Specialist','Oracle Solaris 11 OCP','Oracle Cloud','Oracle Infrastructure as a Service Cloud 2017 Certified Implementation Specialist','Oracle Java Cloud Service Certified Associate','Oracle Database Cloud Administrator Certified Associate','Oracle Database Cloud Administrator Certified Professional','Oracle Database Cloud Service Operations Certified Associate','Oracle Mobile Cloud Service','Oracle Certified Specialist, Mobile Cloud Service 2016 Developer','Oracle Management Cloud','Oracle Management Cloud 2017 Certified Implementation Specialist','Software as a Service - Oracle Customer Experience Cloud','Oracle Customer Experience Cloud','Oracle CPQ Cloud','Oracle CPQ Cloud Service 2016 Implementation Specialist','Oracle Marketing Cloud','Oracle Eloqua Marketing Cloud Service 2017 Certified Implementation Specialist','Oracle Eloqua and Oracle Content Marketing Cloud Service 2013 Certified Implementation Specialist','Oracle Responsys Marketing Platform Cloud Service 2017 Certified Implementation Specialist','Oracle Sales Cloud','Oracle Incentive Compensation Cloud 2016 Certified Implementation Specialist','Oracle Sales Cloud 2016 Certified Implementation Specialist','Oracle Service Cloud','Oracle Policy Automation Cloud Service 2017 Certified Implementation Specialist','Oracle RightNow Cloud Service 2016 Certified Implementation Specialist','Oracle RightNow Cloud Service 2016 Technical Certified Implementation Specialist','Oracle Social Relationship Management Cloud Service 2014 Certified Implementation Specialist','Software as a Service - Oracle Enterprise Resource Planning Cloud','Oracle Enterprise Resource Planning Cloud','Oracle Financials Cloud','Oracle Financials Cloud- General Ledger 2016 Certified Implementation Specialist','Oracle Financials Cloud- Payables 2016 Certified Implementation Specialist','Oracle Financials Cloud- Receivables 2016 Certified Implementation Specialist','Oracle Procurement Cloud','Oracle Procurement Cloud 2016 Certified Implementation Specialist','Oracle Project Portfolio Management Cloud','Oracle Project Portfolio Management Cloud 2016 Certified Implementation Specialist','Software as a Service - Oracle Human Capital Management Cloud','Oracle Human Capital Management Cloud','Oracle Global Human Resources Cloud','Oracle Global Human Resources Cloud 2016 Certified Implementation Specialist','Oracle Workforce Rewards Cloud 2016 Certified Implementation Specialist','Oracle Talent Management Cloud','Oracle Talent Acquisition Cloud 2016 Certified Implementation Specialist','Oracle Talent Management Cloud 2016 Certified Implementation Specialist','Oracle Taleo Learn Cloud Service 2016 Certified Implementation Specialist','Software as a Service - Oracle Supply Chain Management Cloud','Oracle Supply Chain Management Cloud','Oracle Product Master Data Management Cloud','Oracle Product Hub Cloud 2016 Certified Implementation Specialist','Order Management Cloud','Oracle Fusion Distributed Order Orchestration 2014 Certified Implementation Specialist','Oracle Order Management Cloud 2017 Certified Implementation Specialist','Oracle Big Data 2017 Certification Implementation Specialist','Oracle Exadata','Oracle Certified Expert, Oracle Exadata X3 and X4 Administrator','Oracle Certified Expert, Oracle Exadata X5 Administrator','Oracle Exadata Database Machine 2014 Certified Implementation Specialist','Oracle Exadata Database Machine and Cloud Service 2017 Certified Implementation Specialist','Oracle Exalogic Elastic Cloud','Exalogic Elastic Cloud X2-2 Certified Implementation Specialist','Oracle Exalogic Elastic Cloud 2014 Certified Implementation Specialist','Exalytics','Exalytics In-memory Machine X3-4 Certified Implementation Specialist','Oracle Private Cloud Appliance','Oracle Private Cloud Appliance 2017 Certified Implementation Specialist','Fujitsu M10 Servers Certified Implementation Specialist','SPARC M6-32 and SPARC M5-32 Server Certified Implementation Specialist','SPARC T4-Based Server Installation Certified Implementation Specialist','Oracle All Flash Storage System','Oracle FS1 Series Systems Certified Implementation Specialist','Oracle ZFS Storage Appliance','Oracle ZFS Storage Appliance 2017 Certified Implementation Specialist','Oracle ZFS Storage ZS3 Certified Implementation Specialist','Pillar Axiom 600','Pillar Axiom 600 Storage Systems Certified Implementation Specialist','Tape Storage Administration','Oracle Hierarchical Storage Manager 6.0 Certified Implementation Specialist','StorageTek Tape Libraries Certified Implementation Specialist','Sun Flash Storage Certified Implementation Specialist','Sun Storage 7000 Unified Storage Systems Certified Implementation Specialist','Virtualization','Oracle Virtual Desktop Infrastructure','Oracle Virtual Desktop Infrastructure 3 Certified Implementation Specialist','Oracle VM','Oracle VM 2.0 for x86 Certified Implementation Specialist','Oracle VM 3.0 for x86 Certified Implementation Specialist','Java SE 6 OCM','Java SE 7 OCM','Java SE 8 OCM','VMware Certified Associate (VCA)','VMware Certified Professional (VCP)','VMware Certified Advanced Professional (VCAP)','VMware Certified Implementation Expert (VCIX)','VMware Certified Design Expert (VCDX)','Sysoft  Web Application Development, Networking and Database','Sysoft  Productive Web Development, Multimedia & Wireless Application Protocol','Sysoft  Working with SWAF','Sysoft  Corporate Webmaster & e-Commerce','Sysoft  e-Business for Managers','Sysoft  Wireless Application Protocol (WAP)','Sysoft  Requirements Planning for Web Applications','Sysoft  Web Application Planning and Design Methodology','Sysoft  Multimedia in Web','Sysoft  HTML ','Sysoft  JavaScript ','Sysoft  VB Script','Sysoft  DHTML,CSS ','Sysoft  Quality Assurance for Web','Sysoft  Web Application Performance Tuning','Sysoft  Internet Business Strategy','Sysoft  Collaborative Web Development','Sysoft  Managing Internet Projects','Sysoft  XML','Sysoft  Database Integration','Sysoft  CGI / Perl','Sysoft  PHP','Sysoft  Server Side Scripting and Security','Sysoft  ASP','Sysoft  Java, JDBC, Beans','Sysoft  Servelets','Sysoft  CORBA','Sysoft  COM / DCOM','Sysoft  VB 6.0 and C++ for Internet Server Component Creation','Sysoft  Creating E-Commerce with XML Applications ','Sysoft  e-Commerce / e-Business Security ','Sysoft  e-Commerce Concepts, Practices, Strategies and Solutions','Sysoft  e-Commerce Cataloging and Search Mechanisms','Sysoft  e-Commerce Merchant Systems and Payment Processing','Sysoft  Intelligent Agents Technology in e','Sysoft  Planning and Implementing Internet / Intranet System Management and Security','Sysoft  Network Security and Firewalls','Sysoft  TCP/IP','Sysoft  Server Administration and Management','Sysoft  Network Monitoring and Management','Sysoft  WIN NT and TCP/IP Network Security','Sysoft  Unix and TCP/IP Network Security','Sysoft  Security Audit and Analysis','Sysoft  e-Business Concepts, Practices, Strategies and Solutions','Sysoft  XML for e-Business','Sysoft  e-Business Application Development','Sysoft  Intelligent Agents in e','Sysoft  Setting up the Internet Infrastructure','Sysoft  Internet Business Law','Sysoft  Internet Business Finance','i-net Site Designer','i-net Business Manager','i-net Enterprise Developer','i-net e-Commerce Specialist','i-net Administration & Security Specialist','i-net e-Business Specialist','i-net Entrepreneur','Advanced Threat Protection 2.x- Incident Response','App Center 4.1.x Installation and Administration','Asset Management Suite 7.1- Administration','Asset Management Suite 7.5- Administration','Client Management Suite 7.1- Administration','Client Management Suite 7.5- Administration','Client Management Suite 7.5- Implementation','Client Management Suite 7.6- Implementation','Client Management Suite 7.6 Administration','Control Compliance Suite (CCS) 11.0- Administration','Critical System Protection','Cyber Security Services Administration','Data Center Security- Server Advanced 6.0','Data Center Security- Server Advanced 6.6 Administration','Data Loss Prevention 12.5- Administration','Data Loss Prevention 14.0 Administration','Data Loss Prevention 14.5- Administration','Deployment Solution 7.1- Administration','Deployment Solution 7.5- Administration','Email Security Service and Web Security Service- Administration','Encryption Management Server 3.3 and Desktop 10.3- Administration','Endpoint Basics','Endpoint Encryption','Endpoint Protection 12.1- Administration','Endpoint Protection 12.1- Maintain and Troubleshoot','Endpoint Protection 12.x- Install, Configure, and Deploy','Endpoint Protection 12.x- Manage and Administer','Endpoint Protection 14- Configure and Protect','Endpoint Protection 14- Manage and Administer','Ghost Solution Suite 2.5','Ghost Solution Suite 3.0','Managed PKI','Managing Software Licenses with Symantec IT Management Suite 7.5','Messaging Gateway 10.x','Messaging Gateway 9.x Administration','PGP Universal Server 3.2 and PGP Desktop 10.2- Administration','Patch Management 6.2','Server Management Suite Administration','Service Desk Administration 7.1','Validation and ID Protection (VIP)','Workflow Administration 7.1','Workspace Virtualization and Workspace Streaming 7.5- Administration','Symantec Certification','SAP Ariba Procure-to-Pay (P2P)','SAP Business One','SAP Business Objects','SAP Customer Relationship Management','SAP Enterprise Resource Planning','SAP HANA','SAP NetWeaver','SAP Product Lifecycle Management','SAP Solution Manager','SAP Supplier Relationship Management','SAP Supply Chain Management','SAP Sybase Adaptive Server Enterprise (SAP Sybase ASE)','SAP Enterprise Mobility Solutions','SAP Industry Solutions','Certified Associate in Software Testing','Certified Software Tester','Certified Manager of Software Testing ','Certified Associate in Software Quality','Certified Software Quality Analyst','Certified Manager of Software Quality','Certified Associate Business Analyst','Certified Software Business Analyst ','Services Marketing','Marketing Research','Marketing Planning','Digital marketing','Email marketing','SEO marketing','International marketing','Social media marketing','Content marketing','Mobile marketing','Inbound marketing','Campaign Management','Web Analytics','PPC & SEM','PR & Branding','Advertising','Content & Business Writing','News Writing','Sales Management','Negotiation','Telesales','Online journalism','Big Data','Frontend & UI Technologies','Emerging UI & Frontend Technologies','Web Technologies','Emerging Web Technologies','Mobile app development','Game Development','Java','ASP .Net','Visual Basic','Web Tools','Versioning & Bug Tracking Tools','TOGAF','Software Estimation','Web Design','Graphic Design','Trending Design Tools','Virtual Reality','Salesforce','Hadoop Administration','Relational Databases','NO SQL Databases','Selenium','Software Quality','CTFL','Trending Software Testing Tools','Cloud Computing','MS Sharepoint','Windows Server Administration','MS Sql Server Administration','Opensource Server Administration','Biztalk Server','Ethical Hacking','Trending Server Tools','Web & Application Servers','CISSP','CISA','Routing & Network Support','Network Security','Cisco Security Certifications','DevOps','Internet of Things','Cyber Security','Business Analysis','Agile & Scrum','Project Management Tools','ITIL','Prince2','ITSM','Six Sigma Green Belt','Six Sigma Black Belt','Six Sigma Yellow Belt','Lean Six Sigma Black Belt','Lean Six Sigma Green Belt','Total Quality Management','Lean Manufacturing','Engineering Design','Supply chain management','Manufacturing Technologies','Production Planning & Control','Operations management','Purchase Planning','Warehouse Management','Safety','Credit & Financial Risk','Market & Operational Risk','Data Scientist','Business Analytics','SAP BI','Qlikview','Tableau','Machine Learning','Analytics & Statistics tools','Data Visualization','IFRS','ACCA','GAAP','Business Accounting','Financial modelling','Accounting Tools','Cost Accounting','Corporate Finance','Project Finance','Capital Budgeting','Management Accounting & CIMA','CPA & Public Accounting','CFA','Equity Research','Stock Trading & Technical Analysis','Underwriting & Claims Management','Forex & Currency Markets','Money Markets','Commercial Banking','Hedge Fund Management','JAIIB','Wealth Management & Mutual Funds','Investment Banking','Portfolio Management','Recruitment & Staffing','Appraisal Management','Talent Management','CSR','Employee & Labour Relations','Payroll Management','Compensation & Benefits','Organisational Behaviour','Corporate Governance','Learning & Development','Strategic Management','Leadership','MS Office','Hospitality','IPR','Cyber Law','Contract Law','Consumer Law','Competition Law','Company Law','Human Rights Law','Business Law','Labour Law','Media Law','Data Entry','Real Estate consulting','Environment management','Textile Design','Interior Design','Merchandising','Fitness instruction','Library Management','Front Office','Renewable Energy','Retail Management','E-governance','Biopharmaceuticals','Commodity Dealing','Interview Preparation','IELTS & English Communication','ERP','Insurance','Smart Cities','Waste Management','Information Security','IT Support','Foreign Trade','Multichannel retail','Foreign Languages','Customer Service Management','Executive MBA','Finance for non-finance','Productivity Improvement','ACM','CFP','IIBA','QAI','Microsoft','Adobe','Oracle','Cisco','Comptia','Axelos','IASSC','IBM','Hortonworks','APMG','Scrum Alliance','CSSBB','ISO','AAPM','IAPPM','EC council','GAQM','DSIM','SPJAIN.org','OMCP','CIIM','CCB ','CWM','ICAI','IIBF','ISTQB','Lean Six Sigma','PGPM','Kaizen','Agile','Scrum','Six Sigma','Big Data Hadoop','Hadoop','Map Reduce','Testing','Cloudera',
'Cloudera',
'Hortonworks',
'IASSC',
'Axelos',
'ACM',
'PMP',
'PMI',
'ASQ',
'Google',
'IIBA','CompTIA A+','CompTIA certified','ESSE-SIEM','ESSE-IPS','Adobe Certified Associate ','Adobe Certified Expert ','Adobe Certified Instructor ','Certified Information Professional ','Alcatel-Lucent Network Routing Specialist I ','Alcatel-Lucent Network Routing Specialist II ','Alcatel-Lucent Triple Play Routing Professional ','Alcatel-Lucent Service Routing Architect ','Project Manager E-Business Certification ','Certified E-Marketing Analyst Certification ','Master Project Manager Certification ','Software Analyst Certification ','Certified Document Imaging Architect ','Certified Technical Trainer ','Digital Home Technology Integrator ','Enterasys Systems Engineer ','Enterasys Security Systems Engineer-IPS/SIEM ','Enterasys Security Systems Engineer-NAC ','Enterasys Certified Internetworking Engineer ','Holistic Information Security Practitioner ','Certified Software Development Associate ','Certified Software Development Professional ','Certified Information Systems Auditor ','Certified Information Security Manager ','Certified in the Governance of Enterprise IT ','Certified in Risk and Information Systems Control ','Certified Function Point Specialist ','Certified Software Measurement Specialist ','Certified Web Professional ','Linux Professional Institute Certified Level 1 ','Linux Professional Institute Certified Level 2 ','Linux Professional Institute Certified Level 3 ','Certified Wireless Technology Specialist ','Certified Wireless Network Administrator ','Certified Wireless Security Professional ','Certified Wireless Design Professional ','Certified Wireless Analysis Professional ','Certified Wireless Network Engineer ','Certified Wireless Network Trainer ','Red Hat Certified Virtualization Administrator ','Red Hat Certified Technician ','Red Hat Certified Engineer ','Red Hat Certified Datacenter Specialist ','Red Hat Certified Security Specialist ','Red Hat Certified Architect ','JBoss Certified Applications Administrator ','Master Linux Certified Engineer ','Certified System Administrator ','Advanced Certified Engineer ','Electronic Document Professional ','Junos, Associate ','Juniper Networks Certified Design Associate ','Juniper Networks Certified Design Specialist, Data Center ','WX, Associate ','Juniper Networks Certified Internet Specialist ','Enterprise Routing and Switching, Specialist ','Junos Pulse Secure Access, Specialist ','QFabric, Specialist ','Wireless LAN, Specialist ','FWV, Specialist ','Juniper Networks Certified Internet Associate, FWV ','Security, Professional ','JNCIP-ENT Enterprise Routing and Switching, Professional ','Enterprise Routing and Switching Support, Professional ','Security Support, Professional ','CCIP ','Associate Certified Electronics Technician ','Certified Consumer Technician ','Certified Electronics Technician ','Certified Electronics Technician Plus ','Certified Consumer Technician, ','Senior Certified Electronics Technician ','Master Certified Electronics Technician ','Multimedia Systems Technician Journeyman Level ','NASTeC ','Customer Service Representative ','Certified Technical Instructor ','Certified Service Manager ','Electronics Systems Associate ','JD Edwards Supply Chain Execution ','Oracle Commerce ','Primavera Unifier ','Oracle Application Express ','Oracle Database Foundations Certified Junior Associate ','Oracle BI Enterprise Edition ','Java Foundations Certified Junior Associate ','VMware Certified Associate ','VMware Certified Professional ','VMware Certified Advanced Professional ','VMware Certified Implementation Expert ','VMware Certified Design Expert ','Sysoft  Wireless Application Protocol ','Control Compliance Suite ','Validation and ID Protection ','SAP Ariba Procure-to-Pay ','SAP Sybase Adaptive Server Enterprise ','ACA','ACE','ACI','CIP','NRS I','NRS II','3RP','SRA','PME','CEA','MPM','CSA','CDIA+','CTT+','DHTI+','ESE','ESSE-IPS/SIEM','ESSE-NAC','ECIE','HISP','CSDA','CISM','CGEIT','CRISC','CSDP','CFPS','CSMS','CWP certifications','LPIC1','LPIC2 ','LPIC3','CWTS','CWNA','CWSP','CWDP','CWAP','CWNE','CWNT','RHCVA','RHCT','RHCE','RHCDS','RHCSS','RHCA','JBCAA','MLCE','EDP','ISC²','JNCIA-Junos','JNCDA','JNCDS-DC','JNCIA-WX ','JNCIS-SEC','JNCIS-ENT','JNCIS-SA','JNCIS-QF','JNCIS-WLAN','JNCIS-FWV','JNCIA-IDP ','JNCIP-SEC','JNCIP-ENT','JNCSP-ENT','JNCSP-SEC','Retired','CET',
'CCT-ST1',
'CCT-ST2',
'CCT-FT1',
'CCT-DT','CET+',
'CCT-FT2',
'CCT-BT','CET-SR','CET-MA','MST ','National Appliance Service Technician Certification','CTI','CSM','ESA','Logistics','ATG, Endeca','Skire','Oracle APEX','upgrade','BI EE','VCA','VCP','VCAP','VCIX','VCDX','WAP','VIP','P2P','SAP Sybase ASE','Adobe Certified','Alcatel Lucent Certified','Alcatel Lucent Specialist','NRS','CDIA','CTT','DHTI','ESSE','ISC','Juniper','JNCIA','JNCDS','JNCIS','JNCIP','JNCSP','CCT','Linux certified','Redhat certified','Oracle Certified','HP certified','Vmware certified','Juniper certified','SAP certified','Linux certification','Redhat certification','Oracle certification','HP certification','Vmware certification','Juniper certification','SAP','SAP certification','Java certified','checkpoint ','red hat ','linux ','zend ','unix ','solaris ','HP ','sonic wall','cisco','microsoft','oracle','people soft','peoplesoft','primavera','mysql','java','vmware','syssoft','i-net','Endpoint');
    private $invalidStrings;


    private $leadProbabiltyRange = array('0.1' => 'rejected', '0.8' => 'on_hold', '1' => 'pass');
    private $customFieldRoundOfRange = array('0.1' => '0', '1' => '1');

    /*
     * $param array
     * $param['string'] given words
     * $flag : to determine if new words to be included for testing against valid Invalid Strings
     */

    public function getLeadStatusBasedOnValidCountStrings($param, $flag = 1) {
        $finalStatus = array();
        $finalStatus['score'] = '0.0';
        $finalStatus['status'] = 'on_hold';
        $finalStatus['conclusion'] = '';


        $finalStatus = $this->getCustomFieldScore($param, $finalStatus);
        if ($finalStatus['status'] == 'rejected') {
            return $finalStatus;
        }
        /* start checking basis of customField */
        $leadScore = $this->calculateLeadScore($param, $flag);

        $finalStatus = $this->getStatusBasedOnProbabilityScore($leadScore, $this->leadProbabiltyRange);
        if ($finalStatus['status'] == 'rejected') {
            $finalStatus['conclusion'] = 'lead score was not high';
        } else {
            $finalStatus['conclusion'] = 'status on basis of lead score';
        }
        /* end */
        return $finalStatus;
    }

    private function getCustomFieldScore($param, $finalStatus) {

        /* start checking basis of customField */
        $customFieldScore = $this->checkCustomFieldValidity($param);
        if ($customFieldScore == 0) {
            $finalStatus['status'] = 'rejected';
            $finalStatus['conclusion'] = 'custom field score was not high';
            return $finalStatus;
        } else {
            $finalStatus['status'] = 'pass';
            $finalStatus['conclusion'] = 'custom field values are valid';
        }
        /* end */
    }

    private function calculateLeadScore($param, $flag) {
        $countDetail = $this->getValidInValidCount($param, $flag);
        $leadStatusProbability = $this->calculateProbability($countDetail);
        return $leadStatusProbability;
    }

    private function checkCustomFieldValidity($param) {
        $courseId = $param['COURSE_ID'];
        $ecourseDetail = $this->ecourseDetail->getCourseDetails($courseId);
        $customFieldScore = $this->formateAndCheckCustomFieldValidity($param, $ecourseDetail);
        return $customFieldScore;
    }

    private function formateAndCheckCustomFieldValidity($param, $ecourseDetail) {
        $temp = array('first', 'sec', 'third');
        $customFieldScore = 1;
        for ($ct = 0; $ct < 3; $ct++) {
            $functionValue = "get" . ucfirst($temp[$ct]) . "FieldValue";
            if ($ecourseDetail->$functionValue() != "") {
                $customFieldValue = $ecourseDetail->$functionValue();
                $customValidInvalidValue = explode('|X|', $customFieldValue);
                $leadCustomValue = $param['CUSTOM_FLD' . ($ct + 1)];
                $calculatedCustomFieldScore = $this->calculateCustomFieldValidity($leadCustomValue, $customValidInvalidValue[1]);

                //all fields value need to pass (if they are pass or on_hold condition)
                $customFieldScore = ($customFieldScore && $calculatedCustomFieldScore);
                if ($customFieldScore == 0) {
                    break;
                }
            }
        }

        return $customFieldScore;
    }

    private function getStatusBasedOnProbabilityScore($probabilityScore, $arrayToSearch) {
        $finalStatus['score'] = $probabilityScore;
        $finalStatus['status'] = '';

        if ($probabilityScore < 0 || $probabilityScore > 1) {
            $finalStatus['status'] = 'rejected';
            return $finalStatus;
        }

        foreach ($arrayToSearch as $score => $status) {
            if ($probabilityScore <= $score) {
                $finalStatus['status'] = $status;
                return $finalStatus;
            }
        }
    }

    /* on basis of custom field valid value score is generated */

    private function calculateCustomFieldValidity($leadCustomValue, $customValidInvalidValue) {

        //If Anything is empty then no need to proceed . OR operator would not check next condition if first is true
        if (empty($customValidInvalidValue)) {
            return 1;
        } elseif (empty($leadCustomValue)) {
            return 1;
        }

        $validInValidStringArr = explode('||', $customValidInvalidValue);
        $validStringsArr = explode('|', $validInValidStringArr[0]);
        $invalidStringArr = explode('|', $validInValidStringArr[1]);
        $countDetail['validCount'] = $this->getCountOfWordsInString($leadCustomValue, $validStringsArr);
        $countDetail['invalidCount'] = $this->getCountOfWordsInString($leadCustomValue, $invalidStringArr);

        $customFieldScore = $this->calculateProbability($countDetail);
        $resultBasedOnScore = 0;
        foreach ($this->customFieldRoundOfRange as $probabilityScore => $roundOfScore) {
            if ($customFieldScore <= $probabilityScore) {
                $resultBasedOnScore = $roundOfScore;
                break;
            }
        }
        //
        return $resultBasedOnScore;
    }

    /* $param['string'] = array()  //String to check
     * flag = 1 ,  No new words
     * flag = 0 ,  means there are additional words to check along with above mentioned validString and InvalidString
     * flag = -1 , check against only with given words
     */

    public function getValidInValidCount($param, $flag = 1) {
        $validInValidStringArr = $this->getvalidInValidStringArrBasedonFlagValue($param, $flag);
        $validStringArr = $validInValidStringArr['validString'];
        $invalidStringArr = $validInValidStringArr['invalidString'];
        $countValidString = $this->getCountOfWordsInString($param['string'], $validStringArr);
        $countInValidString = $this->getCountOfWordsInString($param['string'], $invalidStringArr);
        return array(
            'validCount' => $countValidString,
            'invalidCount' => $countInValidString
        );
    }

    private function getvalidInValidStringArrBasedonFlagValue($param, $flag) {

        $validInValidStringArr = array();

        switch ($flag) {
            case -1 : $validInValidStringArr['validString'] = $param['validString'];
                $validInValidStringArr['invalidString'] = $param['invalidString'];
                break;

            case 0 : $validInValidStringArr['validString'] = array_merge($this->validStrings, $param['validString']);
                $validInValidStringArr['invalidString'] = array_merge($this->invalidStrings, $param['invalidString']);
                break;
// inefficent code to run each time to get All tags
            case 1 : $validInValidStringArr['validString'] = $this->validStrings;
                $validInValidStringArr['invalidString'] = $this->invalidStrings;
                break;
        }
        return $validInValidStringArr;
    }

    /* $listOfWords = array containg list of words need to check its appearance in given string
     * $string  = given string
     */

    private function getCountOfWordsInString($mainString, $listOfWords) {
        $ct = 0;

        $mainString = strtolower($mainString);
        foreach ($listOfWords as $stringToBeChecked) {
            $pattern = '/(\b' . trim(strtolower($stringToBeChecked)) . '\b)/';
            if (preg_match($pattern, $mainString)) {
                $ct +=1;
            }
        }
        return $ct;
    }

    private function calculateProbability($countDetail) {
        $probabilityScore = 0;
        $countValid = $countDetail['validCount'];
        $countInvalid = $countDetail['invalidCount'];
        $totalOutcome = $countValid + $countInvalid;

        //no negative or positive words found ... then it should be on hold
        if($totalOutcome == 0){
            $probabilityScore = 0.5;
        }
        elseif($countInvalid == 0) {
        // only positive words found
            $probabilityScore = 1;
        } else {
            $probabilityScore = $this->getProbability($countValid, $totalOutcome);
        }
        return $probabilityScore;
    }

    private function getProbability($outCome, $totalOutcome) {
        return ($outCome / $totalOutcome);
    }

}



